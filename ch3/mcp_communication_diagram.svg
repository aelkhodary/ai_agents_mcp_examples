<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="1111px" height="993px" viewBox="-0.5 -0.5 1111 993" content="&lt;mxfile&gt;&lt;diagram id=&quot;mcp-communication-flow&quot; name=&quot;MCP Communication Flow&quot;&gt;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&lt;/diagram&gt;&lt;/mxfile&gt;"><defs/><g><rect x="360" y="4" width="400" height="40" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 398px; height: 1px; padding-top: 24px; margin-left: 361px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 20px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; overflow-wrap: normal;">MCP Communication Flow - UML Diagram</div></div></div></foreignObject><text x="560" y="30" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="20px" text-anchor="middle" font-weight="bold">MCP Communication Flow - UML Diagram</text></switch></g><rect x="0" y="54" width="200" height="30" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 198px; height: 1px; padding-top: 69px; margin-left: 2px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 16px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; overflow-wrap: normal;">Component Diagram</div></div></div></foreignObject><text x="2" y="74" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="16px" font-weight="bold">Component Diagram</text></switch></g><path d="M 380 124 L 380 107.5 Q 380 94 366.5 94 L 13.5 94 Q 0 94 0 107.5 L 0 124" fill="#1ba1e2" stroke="#006eaf" stroke-miterlimit="10" pointer-events="all"/><path d="M 0 124 L 0 360.5 Q 0 374 13.5 374 L 366.5 374 Q 380 374 380 360.5 L 380 124" fill="none" stroke="#006eaf" stroke-miterlimit="10" pointer-events="none"/><path d="M 0 124 L 380 124" fill="none" stroke="#006eaf" stroke-miterlimit="10" pointer-events="none"/><g fill="#ffffff" font-family="Helvetica" font-weight="bold" pointer-events="none" text-anchor="middle" font-size="14px"><text x="189.5" y="114.5">Host Application</text></g><path d="M 31 134 L 185 134 L 185 364 L 31 364 L 31 301 L 15 301 L 15 289 L 31 289 L 31 209 L 15 209 L 15 197 L 31 197 Z" fill="#60a917" stroke="#2d7600" stroke-miterlimit="10" pointer-events="none"/><path d="M 31 197 L 47 197 L 47 209 L 31 209 M 31 289 L 47 289 L 47 301 L 31 301" fill="none" stroke="#2d7600" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 124px; height: 1px; padding-top: 143px; margin-left: 59px;"><div data-drawio-colors="color: #ffffff; " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;"><b style="font-size:12px">Agent</b><br /><span style="font-size:10px">(agent.py)</span><hr /><span style="font-size:9px">- mcp_client: MCPClient<br />- anthropic_client: Anthropic<br />- available_resources: dict<br />- available_prompts: dict</span><hr /><span style="font-size:9px">+ run()<br />+ _select_resources()<br />+ _select_prompts()<br />+ _load_selected_resources()<br />+ _load_selected_prompts()<br />+ _refresh()</span></div></div></div></foreignObject><text x="59" y="155" fill="#ffffff" font-family="Helvetica" font-size="12px">Agent...</text></switch></g><path d="M 216 134 L 370 134 L 370 364 L 216 364 L 216 301 L 200 301 L 200 289 L 216 289 L 216 209 L 200 209 L 200 197 L 216 197 Z" fill="#008a00" stroke="#005700" stroke-miterlimit="10" pointer-events="none"/><path d="M 216 197 L 232 197 L 232 209 L 216 209 M 216 289 L 232 289 L 232 301 L 216 301" fill="none" stroke="#005700" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 124px; height: 1px; padding-top: 143px; margin-left: 244px;"><div data-drawio-colors="color: #ffffff; " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;"><b style="font-size:12px">MCPClient</b><br /><span style="font-size:10px">(client.py)</span><hr /><span style="font-size:9px">- _session: ClientSession<br />- _exit_stack: AsyncExitStack<br />- _connected: bool</span><hr /><span style="font-size:9px">+ connect()<br />+ disconnect()<br />+ use_tool()<br />+ get_resource()<br />+ load_prompt()<br />+ get_available_tools()<br />+ get_available_resources()<br />+ get_available_prompts()</span></div></div></div></foreignObject><text x="244" y="155" fill="#ffffff" font-family="Helvetica" font-size="12px">MCPClient...</text></switch></g><path d="M 820 124 L 820 107.5 Q 820 94 806.5 94 L 453.5 94 Q 440 94 440 107.5 L 440 124" fill="#d80073" stroke="#a50040" stroke-miterlimit="10" pointer-events="none"/><path d="M 440 124 L 440 320.5 Q 440 334 453.5 334 L 806.5 334 Q 820 334 820 320.5 L 820 124" fill="none" stroke="#a50040" stroke-miterlimit="10" pointer-events="none"/><path d="M 440 124 L 820 124" fill="none" stroke="#a50040" stroke-miterlimit="10" pointer-events="none"/><g fill="#ffffff" font-family="Helvetica" font-weight="bold" pointer-events="none" text-anchor="middle" font-size="14px"><text x="629.5" y="114.5">External Services</text></g><path d="M 471 134 L 615 134 L 615 319 L 471 319 L 471 269.5 L 455 269.5 L 455 257.5 L 471 257.5 L 471 195.5 L 455 195.5 L 455 183.5 L 471 183.5 Z" fill="#fa6800" stroke="#c73500" stroke-miterlimit="10" pointer-events="none"/><path d="M 471 183.5 L 487 183.5 L 487 195.5 L 471 195.5 M 471 257.5 L 487 257.5 L 487 269.5 L 471 269.5" fill="none" stroke="#c73500" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 114px; height: 1px; padding-top: 143px; margin-left: 499px;"><div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;"><b style="font-size:12px">Claude API</b><br /><span style="font-size:10px">(Anthropic)</span><hr /><span style="font-size:9px">External LLM Service</span><hr /><span style="font-size:9px">+ messages.create()</span></div></div></div></foreignObject><text x="499" y="155" fill="#000000" font-family="Helvetica" font-size="12px">Claude API...</text></switch></g><path d="M 651 134 L 805 134 L 805 319 L 651 319 L 651 269.5 L 635 269.5 L 635 257.5 L 651 257.5 L 651 195.5 L 635 195.5 L 635 183.5 L 651 183.5 Z" fill="#e3c800" stroke="#b09500" stroke-miterlimit="10" pointer-events="none"/><path d="M 651 183.5 L 667 183.5 L 667 195.5 L 651 195.5 M 651 257.5 L 667 257.5 L 667 269.5 L 651 269.5" fill="none" stroke="#b09500" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 124px; height: 1px; padding-top: 143px; margin-left: 679px;"><div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;"><b style="font-size:12px">Calculator Server</b><br /><span style="font-size:10px">(calculator_server.py)</span><hr /><span style="font-size:9px">FastMCP Server<br />Transport: stdio</span><hr /><span style="font-size:9px">Tools: add, subtract,<br />multiply, divide, power,<br />square_root, count_rs,<br />explain_math, signup_math_facts<br /><br />Prompts: calculate_operation<br /><br />Resources: math-constants</span></div></div></div></foreignObject><text x="679" y="155" fill="#000000" font-family="Helvetica" font-size="12px">Calculator Server...</text></switch></g><path d="M 185 249 L 197.76 249" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none"/><path d="M 185.88 255.5 L 198.88 249 L 185.88 242.5" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 249px; margin-left: 193px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; background-color: rgb(255, 255, 255); white-space: nowrap;">uses</div></div></div></foreignObject><text x="193" y="252" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">uses</text></switch></g><path d="M 100 134 L 70.73 92.19 Q 65 84 75 84 L 350 84 Q 360 84 360 94 L 360 174 Q 360 184 369.13 188.08 L 452.96 225.59" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none"/><path d="M 439.46 226.67 L 453.98 226.04 L 444.77 214.8" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 84px; margin-left: 284px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; background-color: rgb(255, 255, 255); white-space: nowrap;">LLM calls<br />(HTTP)</div></div></div></foreignObject><text x="284" y="87" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">LLM calls...</text></switch></g><path d="M 370 249 L 632.77 226.69" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none"/><path d="M 621.48 234.17 L 633.89 226.59 L 620.38 221.22" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 276px; margin-left: 503px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; background-color: rgb(255, 255, 255); white-space: nowrap;">MCP Protocol<br />(stdio/JSON-RPC)</div></div></div></foreignObject><text x="503" y="279" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">MCP Protocol...</text></switch></g><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 348px; height: 1px; padding-top: 419px; margin-left: 2px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 16px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; font-weight: bold; white-space: normal; overflow-wrap: normal;">Sequence Diagram - Main Interaction Flow</div></div></div></foreignObject><text x="2" y="424" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="16px" font-weight="bold">Sequence Diagram - Main Interaction Flow</text></switch></g><rect x="20" y="444" width="80" height="40" rx="6" ry="6" fill="#60a917" stroke="#2d7600" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 78px; height: 1px; padding-top: 464px; margin-left: 21px;"><div data-drawio-colors="color: #ffffff; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;"><b>User</b></div></div></div></foreignObject><text x="60" y="468" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">User</text></switch></g><rect x="160" y="444" width="80" height="40" rx="6" ry="6" fill="#fa6800" stroke="#c73500" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 78px; height: 1px; padding-top: 464px; margin-left: 161px;"><div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;"><b>Agent</b><br />(agent.py)</div></div></div></foreignObject><text x="200" y="468" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">Agent...</text></switch></g><rect x="300" y="444" width="80" height="40" rx="6" ry="6" fill="#f0a30a" stroke="#bd7000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 78px; height: 1px; padding-top: 464px; margin-left: 301px;"><div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;"><b>MCPClient</b><br />(client.py)</div></div></div></foreignObject><text x="340" y="468" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">MCPClient...</text></switch></g><rect x="440" y="444" width="80" height="40" rx="6" ry="6" fill="#a0522d" stroke="#6d1f00" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 78px; height: 1px; padding-top: 464px; margin-left: 441px;"><div data-drawio-colors="color: #ffffff; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;"><b>Claude API</b></div></div></div></foreignObject><text x="480" y="468" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">Claude API</text></switch></g><rect x="580" y="444" width="80" height="40" rx="6" ry="6" fill="#6d8764" stroke="#3a5431" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 78px; height: 1px; padding-top: 464px; margin-left: 581px;"><div data-drawio-colors="color: #ffffff; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;"><b>Calculator</b><br /><b>Server</b></div></div></div></foreignObject><text x="620" y="468" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">Calculator...</text></switch></g><path d="M 60 484 L 60 984" fill="none" stroke="#666666" stroke-miterlimit="10" stroke-dasharray="1 4" pointer-events="none"/><path d="M 200 484 L 200 984" fill="none" stroke="#666666" stroke-miterlimit="10" stroke-dasharray="1 4" pointer-events="none"/><path d="M 340 484 L 340 984" fill="none" stroke="#666666" stroke-miterlimit="10" stroke-dasharray="1 4" pointer-events="none"/><path d="M 480 484 L 480 984" fill="none" stroke="#666666" stroke-miterlimit="10" stroke-dasharray="1 4" pointer-events="none"/><path d="M 620 484 L 620 984" fill="none" stroke="#666666" stroke-miterlimit="10" stroke-dasharray="1 4" pointer-events="none"/><rect x="680" y="494" width="120" height="30" rx="4.5" ry="4.5" fill="#fad7ac" stroke="#b46504" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 509px; margin-left: 681px;"><div data-drawio-colors="color: #FF3333; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 10px; font-family: Helvetica; color: rgb(255, 51, 51); line-height: 1.2; pointer-events: none; font-weight: bold; white-space: normal; overflow-wrap: normal;">STARTUP PHASE</div></div></div></foreignObject><text x="740" y="512" fill="#FF3333" font-family="Helvetica" font-size="10px" text-anchor="middle" font-weight="bold">STARTUP PHASE</text></switch></g><path d="M 200 504 L 331.88 504" fill="none" stroke="#333333" stroke-miterlimit="10" pointer-events="none"/><path d="M 338.88 504 L 331.88 507.5 L 331.88 500.5 Z" fill="#333333" stroke="#333333" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 504px; margin-left: 270px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; background-color: rgb(255, 255, 255); white-space: nowrap;">1. create MCPClient()</div></div></div></foreignObject><text x="270" y="507" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">1. create...</text></switch></g><path d="M 200 524 L 331.88 524" fill="none" stroke="#333333" stroke-miterlimit="10" pointer-events="none"/><path d="M 338.88 524 L 331.88 527.5 L 331.88 520.5 Z" fill="#333333" stroke="#333333" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 524px; margin-left: 270px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; background-color: rgb(255, 255, 255); white-space: nowrap;">2. connect()</div></div></div></foreignObject><text x="270" y="527" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">2. connect...</text></switch></g><path d="M 340 544 L 611.88 544" fill="none" stroke="#d79b00" stroke-miterlimit="10" pointer-events="none"/><path d="M 618.88 544 L 611.88 547.5 L 611.88 540.5 Z" fill="#d79b00" stroke="#d79b00" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 544px; margin-left: 480px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; background-color: rgb(255, 255, 255); white-space: nowrap;">3. stdio_client() - spawn subprocess</div></div></div></foreignObject><text x="480" y="547" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">3. stdio_c...</text></switch></g><path d="M 340 564 L 611.88 564" fill="none" stroke="#d79b00" stroke-miterlimit="10" pointer-events="none"/><path d="M 618.88 564 L 611.88 567.5 L 611.88 560.5 Z" fill="#d79b00" stroke="#d79b00" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 564px; margin-left: 480px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; background-color: rgb(255, 255, 255); white-space: nowrap;">4. initialize (MCP handshake)</div></div></div></foreignObject><text x="480" y="567" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">4. initial...</text></switch></g><path d="M 200 584 L 331.88 584" fill="none" stroke="#333333" stroke-miterlimit="10" pointer-events="none"/><path d="M 338.88 584 L 331.88 587.5 L 331.88 580.5 Z" fill="#333333" stroke="#333333" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 584px; margin-left: 270px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; background-color: rgb(255, 255, 255); white-space: nowrap;">5. get_available_tools()</div></div></div></foreignObject><text x="270" y="587" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">5. get_ava...</text></switch></g><path d="M 340 599 L 611.88 599" fill="none" stroke="#d79b00" stroke-miterlimit="10" pointer-events="none"/><path d="M 618.88 599 L 611.88 602.5 L 611.88 595.5 Z" fill="#d79b00" stroke="#d79b00" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 599px; margin-left: 480px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; background-color: rgb(255, 255, 255); white-space: nowrap;">tools/list</div></div></div></foreignObject><text x="480" y="602" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">tools/list</text></switch></g><path d="M 200 619 L 331.88 619" fill="none" stroke="#333333" stroke-miterlimit="10" pointer-events="none"/><path d="M 338.88 619 L 331.88 622.5 L 331.88 615.5 Z" fill="#333333" stroke="#333333" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 619px; margin-left: 270px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; background-color: rgb(255, 255, 255); white-space: nowrap;">6. _refresh() - resources/list, prompts/list</div></div></div></foreignObject><text x="270" y="622" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">6. _refres...</text></switch></g><path d="M 340 634 L 611.88 634" fill="none" stroke="#d79b00" stroke-miterlimit="10" pointer-events="none"/><path d="M 618.88 634 L 611.88 637.5 L 611.88 630.5 Z" fill="#d79b00" stroke="#d79b00" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 634px; margin-left: 480px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; background-color: rgb(255, 255, 255); white-space: nowrap;">resources/list, prompts/list</div></div></div></foreignObject><text x="480" y="637" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">resources/...</text></switch></g><rect x="680" y="654" width="140" height="40" rx="6" ry="6" fill="#fad7ac" stroke="#b46504" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 138px; height: 1px; padding-top: 674px; margin-left: 681px;"><div data-drawio-colors="color: #FF0000; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 10px; font-family: Helvetica; color: rgb(255, 0, 0); line-height: 1.2; pointer-events: none; font-weight: bold; white-space: normal; overflow-wrap: normal;">REQUEST HANDLING PHASE</div></div></div></foreignObject><text x="750" y="677" fill="#FF0000" font-family="Helvetica" font-size="10px" text-anchor="middle" font-weight="bold">REQUEST HANDLING PHASE</text></switch></g><path d="M 60 674 L 191.88 674" fill="none" stroke="#333333" stroke-miterlimit="10" pointer-events="none"/><path d="M 198.88 674 L 191.88 677.5 L 191.88 670.5 Z" fill="#333333" stroke="#333333" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 674px; margin-left: 130px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; background-color: rgb(255, 255, 255); white-space: nowrap;">7. User input (query)</div></div></div></foreignObject><text x="130" y="677" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">7. User in...</text></switch></g><path d="M 200 694 L 471.88 694" fill="none" stroke="#9673a6" stroke-miterlimit="10" pointer-events="none"/><path d="M 478.88 694 L 471.88 697.5 L 471.88 690.5 Z" fill="#9673a6" stroke="#9673a6" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 694px; margin-left: 340px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; background-color: rgb(255, 255, 255); white-space: nowrap;">8. _select_resources() - messages.create()</div></div></div></foreignObject><text x="340" y="697" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">8. _select...</text></switch></g><path d="M 200 714 L 471.88 714" fill="none" stroke="#9673a6" stroke-miterlimit="10" pointer-events="none"/><path d="M 478.88 714 L 471.88 717.5 L 471.88 710.5 Z" fill="#9673a6" stroke="#9673a6" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 714px; margin-left: 340px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; background-color: rgb(255, 255, 255); white-space: nowrap;">9. _select_prompts() - messages.create()</div></div></div></foreignObject><text x="340" y="717" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">9. _select...</text></switch></g><path d="M 200 734 L 331.88 734" fill="none" stroke="#333333" stroke-miterlimit="10" pointer-events="none"/><path d="M 338.88 734 L 331.88 737.5 L 331.88 730.5 Z" fill="#333333" stroke="#333333" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 734px; margin-left: 270px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; background-color: rgb(255, 255, 255); white-space: nowrap;">10. get_resource(uri)</div></div></div></foreignObject><text x="270" y="737" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">10. get_re...</text></switch></g><path d="M 340 749 L 611.88 749" fill="none" stroke="#d79b00" stroke-miterlimit="10" pointer-events="none"/><path d="M 618.88 749 L 611.88 752.5 L 611.88 745.5 Z" fill="#d79b00" stroke="#d79b00" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 749px; margin-left: 480px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; background-color: rgb(255, 255, 255); white-space: nowrap;">resources/read</div></div></div></foreignObject><text x="480" y="752" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">resources/...</text></switch></g><path d="M 200 769 L 331.88 769" fill="none" stroke="#333333" stroke-miterlimit="10" pointer-events="none"/><path d="M 338.88 769 L 331.88 772.5 L 331.88 765.5 Z" fill="#333333" stroke="#333333" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 769px; margin-left: 270px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; background-color: rgb(255, 255, 255); white-space: nowrap;">11. load_prompt(name, args)</div></div></div></foreignObject><text x="270" y="772" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">11. load_p...</text></switch></g><path d="M 340 784 L 611.88 784" fill="none" stroke="#d79b00" stroke-miterlimit="10" pointer-events="none"/><path d="M 618.88 784 L 611.88 787.5 L 611.88 780.5 Z" fill="#d79b00" stroke="#d79b00" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 784px; margin-left: 480px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; background-color: rgb(255, 255, 255); white-space: nowrap;">prompts/get</div></div></div></foreignObject><text x="480" y="787" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">prompts/get</text></switch></g><rect x="680" y="804" width="140" height="30" rx="4.5" ry="4.5" fill="#fad7ac" stroke="#b46504" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 138px; height: 1px; padding-top: 819px; margin-left: 681px;"><div data-drawio-colors="color: #990008; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 10px; font-family: Helvetica; color: rgb(153, 0, 8); line-height: 1.2; pointer-events: none; font-weight: bold; white-space: normal; overflow-wrap: normal;">TOOL USE LOOP</div></div></div></foreignObject><text x="750" y="822" fill="#990008" font-family="Helvetica" font-size="10px" text-anchor="middle" font-weight="bold">TOOL USE LOOP</text></switch></g><rect x="180" y="819" width="460" height="120" fill="none" stroke="#666666" stroke-width="2" stroke-dasharray="6 6" pointer-events="none"/><rect x="185" y="821" width="180" height="15" fill="#f5f5f5" stroke="none" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 178px; height: 1px; padding-top: 829px; margin-left: 187px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 9px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; font-style: italic; white-space: normal; overflow-wrap: normal;">loop [while stop_reason == 'tool_use']</div></div></div></foreignObject><text x="187" y="831" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="9px" font-style="italic">loop [while stop_reason == 'tool_use']</text></switch></g><path d="M 200 849 L 471.88 849" fill="none" stroke="#9673a6" stroke-miterlimit="10" pointer-events="none"/><path d="M 478.88 849 L 471.88 852.5 L 471.88 845.5 Z" fill="#9673a6" stroke="#9673a6" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 849px; margin-left: 340px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; background-color: rgb(255, 255, 255); white-space: nowrap;">12. messages.create(tools, messages)</div></div></div></foreignObject><text x="340" y="852" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">12. messag...</text></switch></g><path d="M 480 869 L 202.24 869" fill="none" stroke="#9673a6" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none"/><path d="M 208.12 865.5 L 201.12 869 L 208.12 872.5" fill="none" stroke="#9673a6" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 869px; margin-left: 340px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; background-color: rgb(255, 255, 255); white-space: nowrap;">13. response (stop_reason=tool_use)</div></div></div></foreignObject><text x="340" y="872" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">13. respon...</text></switch></g><path d="M 200 889 L 331.88 889" fill="none" stroke="#333333" stroke-miterlimit="10" pointer-events="none"/><path d="M 338.88 889 L 331.88 892.5 L 331.88 885.5 Z" fill="#333333" stroke="#333333" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 889px; margin-left: 270px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; background-color: rgb(255, 255, 255); white-space: nowrap;">14. use_tool(name, args)</div></div></div></foreignObject><text x="270" y="892" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">14. use_to...</text></switch></g><path d="M 340 904 L 611.88 904" fill="none" stroke="#d79b00" stroke-miterlimit="10" pointer-events="none"/><path d="M 618.88 904 L 611.88 907.5 L 611.88 900.5 Z" fill="#d79b00" stroke="#d79b00" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 904px; margin-left: 480px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; background-color: rgb(255, 255, 255); white-space: nowrap;">tools/call</div></div></div></foreignObject><text x="480" y="907" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">tools/call</text></switch></g><path d="M 620 924 L 342.24 924" fill="none" stroke="#d79b00" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none"/><path d="M 348.12 920.5 L 341.12 924 L 348.12 927.5" fill="none" stroke="#d79b00" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 924px; margin-left: 480px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; background-color: rgb(255, 255, 255); white-space: nowrap;">15. tool result</div></div></div></foreignObject><text x="480" y="927" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">15. tool r...</text></switch></g><rect x="680" y="944" width="160" height="30" rx="4.5" ry="4.5" fill="#fad7ac" stroke="#b46504" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 158px; height: 1px; padding-top: 959px; margin-left: 681px;"><div data-drawio-colors="color: #FF0000; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 10px; font-family: Helvetica; color: rgb(255, 0, 0); line-height: 1.2; pointer-events: none; font-weight: bold; white-space: normal; overflow-wrap: normal;">FINAL RESPONSE</div></div></div></foreignObject><text x="760" y="962" fill="#FF0000" font-family="Helvetica" font-size="10px" text-anchor="middle" font-weight="bold">FINAL RESPONSE</text></switch></g><path d="M 480 964 L 202.24 964" fill="none" stroke="#9673a6" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none"/><path d="M 208.12 960.5 L 201.12 964 L 208.12 967.5" fill="none" stroke="#9673a6" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 964px; margin-left: 340px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; background-color: rgb(255, 255, 255); white-space: nowrap;">16. response (stop_reason=end_turn)</div></div></div></foreignObject><text x="340" y="967" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">16. respon...</text></switch></g><path d="M 200 984 L 62.24 984" fill="none" stroke="#333333" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none"/><path d="M 68.12 980.5 L 61.12 984 L 68.12 987.5" fill="none" stroke="#333333" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 984px; margin-left: 130px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; background-color: rgb(255, 255, 255); white-space: nowrap;">17. Display response</div></div></div></foreignObject><text x="130" y="987" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">17. Displa...</text></switch></g><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 98px; height: 1px; padding-top: 459px; margin-left: 862px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 14px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; font-weight: bold; white-space: normal; overflow-wrap: normal;">Legend</div></div></div></foreignObject><text x="862" y="463" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="14px" font-weight="bold">Legend</text></switch></g><rect x="860" y="474" width="200" height="180" rx="27" ry="27" fill="none" stroke="#666666" pointer-events="none"/><path d="M 875 499 L 926.88 499" fill="none" stroke="#333333" stroke-miterlimit="10" pointer-events="none"/><path d="M 933.88 499 L 926.88 502.5 L 926.88 495.5 Z" fill="#333333" stroke="#333333" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 499px; margin-left: 947px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 10px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: nowrap;">Method call</div></div></div></foreignObject><text x="947" y="502" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="10px">Method call</text></switch></g><path d="M 875 524 L 932.76 524" fill="none" stroke="#333333" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none"/><path d="M 926.88 527.5 L 933.88 524 L 926.88 520.5" fill="none" stroke="#333333" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 524px; margin-left: 947px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 10px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: nowrap;">Return/Response</div></div></div></foreignObject><text x="947" y="527" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="10px">Return/Response</text></switch></g><path d="M 875 549 L 926.88 549" fill="none" stroke="#9673a6" stroke-miterlimit="10" pointer-events="none"/><path d="M 933.88 549 L 926.88 552.5 L 926.88 545.5 Z" fill="#9673a6" stroke="#9673a6" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 549px; margin-left: 947px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 10px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: nowrap;">Claude API call</div></div></div></foreignObject><text x="947" y="552" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="10px">Claude API call</text></switch></g><path d="M 875 574 L 926.88 574" fill="none" stroke="#d79b00" stroke-miterlimit="10" pointer-events="none"/><path d="M 933.88 574 L 926.88 577.5 L 926.88 570.5 Z" fill="#d79b00" stroke="#d79b00" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 574px; margin-left: 947px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 10px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: nowrap;">MCP Protocol</div></div></div></foreignObject><text x="947" y="577" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="10px">MCP Protocol</text></switch></g><rect x="875" y="594" width="60" height="15" rx="2.25" ry="2.25" fill="#fa6800" stroke="#c73500" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 599px; margin-left: 947px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 10px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: nowrap;">Agent</div></div></div></foreignObject><text x="947" y="602" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="10px">Agent</text></switch></g><rect x="875" y="614" width="60" height="15" rx="2.25" ry="2.25" fill="#f0a30a" stroke="#bd7000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 619px; margin-left: 947px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 10px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: nowrap;">MCPClient</div></div></div></foreignObject><text x="947" y="622" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="10px">MCPClient</text></switch></g><rect x="875" y="634" width="60" height="15" rx="2.25" ry="2.25" fill="#6d8764" stroke="#3a5431" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 639px; margin-left: 947px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 10px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: nowrap;">Server</div></div></div></foreignObject><text x="947" y="642" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="10px">Server</text></switch></g><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 248px; height: 1px; padding-top: 109px; margin-left: 862px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 14px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; font-weight: bold; white-space: normal; overflow-wrap: normal;">MCP Protocol Methods Mapping</div></div></div></foreignObject><text x="862" y="113" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="14px" font-weight="bold">MCP Protocol Methods Mapping</text></switch></g><rect x="860" y="124" width="230" height="200" rx="30" ry="30" fill="#76608a" stroke="#432d57" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 232px; height: 200px; padding-top: 124px; margin-left: 860px;"><div data-drawio-colors="color: #ffffff; " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 230px; height: 200px; overflow: hidden;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; pointer-events: none; width: 100%; height: 100%; white-space: nowrap;"><table style="font-size:11px;"><tbody><tr style="background:#ddd;"><th>MCPClient Method</th><th>MCP Protocol</th></tr><tr><td>connect()</td><td>initialize</td></tr><tr><td>get_available_tools()</td><td>tools/list</td></tr><tr><td>use_tool()</td><td>tools/call</td></tr><tr><td>get_available_resources()</td><td>resources/list</td></tr><tr><td>get_resource()</td><td>resources/read</td></tr><tr><td>get_available_prompts()</td><td>prompts/list</td></tr><tr><td>load_prompt()</td><td>prompts/get</td></tr><tr><td>disconnect()</td><td>close streams</td></tr></tbody></table></div></div></div></foreignObject><text x="860" y="136" fill="#ffffff" font-family="Helvetica" font-size="12px">MCPClient MethodMCP Protocolconnect()in...</text></switch></g></g><switch><g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/><a transform="translate(0,-5)" xlink:href="https://www.diagrams.net/doc/faq/svg-export-text-problems" target="_blank"><text text-anchor="middle" font-size="10px" x="50%" y="100%">Text is not SVG - cannot display</text></a></switch></svg>